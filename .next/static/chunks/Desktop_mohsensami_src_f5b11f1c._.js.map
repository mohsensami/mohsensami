{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mohsen/Desktop/mohsensami/src/contexts/GamificationContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\n\nexport type ActionId =\n  | \"action_1\"\n  | \"action_2\"\n  | \"action_3\"\n  | \"action_4\"\n  | \"action_5\"\n  | \"action_6\"\n  | \"action_7\"\n  | \"action_8\"\n  | \"action_9\"\n  | \"action_10\";\n\ninterface GamificationState {\n  completedActions: Set<ActionId>;\n  totalActions: number;\n  isRewardUnlocked: boolean;\n}\n\ninterface GamificationContextType extends GamificationState {\n  completeAction: (actionId: ActionId) => void;\n  resetProgress: () => void;\n}\n\nconst GamificationContext = createContext<GamificationContextType | undefined>(\n  undefined\n);\n\nconst STORAGE_KEY = \"gamification_progress\";\n\nexport function GamificationProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [completedActions, setCompletedActions] = useState<Set<ActionId>>(\n    new Set()\n  );\n  const totalActions = 10;\n\n  // Load progress from localStorage on mount\n  useEffect(() => {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (saved) {\n      try {\n        const data = JSON.parse(saved);\n        setCompletedActions(new Set(data.completedActions || []));\n      } catch (error) {\n        console.error(\"Failed to load gamification progress:\", error);\n      }\n    }\n  }, []);\n\n  // Save progress to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem(\n      STORAGE_KEY,\n      JSON.stringify({\n        completedActions: Array.from(completedActions),\n      })\n    );\n  }, [completedActions]);\n\n  const completeAction = (actionId: ActionId) => {\n    setCompletedActions((prev) => {\n      if (prev.has(actionId)) return prev;\n      const newSet = new Set(prev);\n      newSet.add(actionId);\n      return newSet;\n    });\n  };\n\n  const resetProgress = () => {\n    setCompletedActions(new Set());\n  };\n\n  const isRewardUnlocked = completedActions.size >= totalActions;\n\n  return (\n    <GamificationContext.Provider\n      value={{\n        completedActions,\n        totalActions,\n        isRewardUnlocked,\n        completeAction,\n        resetProgress,\n      }}\n    >\n      {children}\n    </GamificationContext.Provider>\n  );\n}\n\nexport function useGamification() {\n  const context = useContext(GamificationContext);\n  if (!context) {\n    throw new Error(\n      \"useGamification must be used within a GamificationProvider\"\n    );\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AA2BA,MAAM,oCAAsB,IAAA,uMAAa,EACvC;AAGF,MAAM,cAAc;AAEb,SAAS,qBAAqB,KAIpC;QAJoC,EACnC,QAAQ,EAGT,GAJoC;;IAKnC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,kMAAQ,EACtD,IAAI;IAEN,MAAM,eAAe;IAErB,2CAA2C;IAC3C,IAAA,mMAAS;0CAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,IAAI;oBACF,MAAM,OAAO,KAAK,KAAK,CAAC;oBACxB,oBAAoB,IAAI,IAAI,KAAK,gBAAgB,IAAI,EAAE;gBACzD,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,yCAAyC;gBACzD;YACF;QACF;yCAAG,EAAE;IAEL,oDAAoD;IACpD,IAAA,mMAAS;0CAAC;YACR,aAAa,OAAO,CAClB,aACA,KAAK,SAAS,CAAC;gBACb,kBAAkB,MAAM,IAAI,CAAC;YAC/B;QAEJ;yCAAG;QAAC;KAAiB;IAErB,MAAM,iBAAiB,CAAC;QACtB,oBAAoB,CAAC;YACnB,IAAI,KAAK,GAAG,CAAC,WAAW,OAAO;YAC/B,MAAM,SAAS,IAAI,IAAI;YACvB,OAAO,GAAG,CAAC;YACX,OAAO;QACT;IACF;IAEA,MAAM,gBAAgB;QACpB,oBAAoB,IAAI;IAC1B;IAEA,MAAM,mBAAmB,iBAAiB,IAAI,IAAI;IAElD,qBACE,sNAAC,oBAAoB,QAAQ;QAC3B,OAAO;YACL;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GA7DgB;KAAA;AA+DT,SAAS;;IACd,MAAM,UAAU,IAAA,oMAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MACR;IAEJ;IACA,OAAO;AACT;IARgB","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mohsen/Desktop/mohsensami/src/components/GamificationProgress.tsx"],"sourcesContent":["\"use client\";\n\nimport { useGamification } from \"@/contexts/GamificationContext\";\nimport type { ActionId } from \"@/contexts/GamificationContext\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Trophy, Sparkles, HelpCircle } from \"lucide-react\";\nimport { useState, useEffect, useMemo } from \"react\";\nimport content from \"@/data/content.json\";\n\nexport default function GamificationProgress() {\n  const { completedActions, totalActions, isRewardUnlocked } =\n    useGamification();\n  const [isHovered, setIsHovered] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [showHintTooltip, setShowHintTooltip] = useState(false);\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n\n  // Get a random remaining task hint\n  const remainingTaskHint = useMemo(() => {\n    const allActions: ActionId[] = [\n      \"action_1\",\n      \"action_2\",\n      \"action_3\",\n      \"action_4\",\n      \"action_5\",\n      \"action_6\",\n      \"action_7\",\n      \"action_8\",\n      \"action_9\",\n      \"action_10\",\n    ];\n    let remaining = allActions.filter(\n      (action) => !completedActions.has(action)\n    );\n\n    // Don't show action_10 hint unless 9 actions are completed\n    if (remaining.length > 1) {\n      remaining = remaining.filter((action) => action !== \"action_10\");\n    }\n\n    if (remaining.length === 0) return null;\n    const randomIndex = Math.floor(Math.random() * remaining.length);\n    const randomAction = remaining[randomIndex];\n    return content.gamification.tasks[randomAction];\n  }, [completedActions]);\n\n  // Don't render on mobile\n  if (isMobile) {\n    return null;\n  }\n\n  return (\n    <motion.div\n      className=\"fixed bottom-24 left-24 z-40 pointer-events-auto\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: 0.8, duration: 0.4 }}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      <motion.div\n        className=\"relative bg-primary-500/10 border border-primary-500/30 rounded-lg shadow-lg overflow-hidden\"\n        initial={false}\n        animate={{\n          width: \"auto\",\n          height: \"auto\",\n        }}\n        transition={{\n          duration: 0.3,\n          ease: \"easeInOut\",\n        }}\n      >\n        <motion.div\n          className=\"relative\"\n          initial={false}\n          animate={{\n            paddingLeft: isHovered ? \"1rem\" : \"0.5rem\",\n            paddingRight: isHovered ? \"1rem\" : \"0.5rem\",\n            paddingTop: isHovered ? \"0.75rem\" : \"0.5rem\",\n            paddingBottom: isHovered ? \"0.75rem\" : \"0.5rem\",\n          }}\n          transition={{\n            duration: 0.3,\n            ease: \"easeInOut\",\n          }}\n        >\n          {/* Minimized state - icon + counter */}\n          <AnimatePresence>\n            {!isHovered && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{ duration: 0.2 }}\n                className=\"flex items-center gap-2 whitespace-nowrap\"\n              >\n                <motion.div\n                  className={`p-1.5 rounded ${\n                    isRewardUnlocked ? \"bg-yellow-500/20\" : \"bg-primary-500/20\"\n                  }`}\n                  animate={\n                    isRewardUnlocked\n                      ? {\n                          scale: [1, 1.05, 1],\n                        }\n                      : {}\n                  }\n                  transition={{\n                    duration: 2,\n                    repeat: Infinity,\n                    repeatDelay: 1,\n                  }}\n                >\n                  {isRewardUnlocked ? (\n                    <Trophy className=\"w-4 h-4 text-yellow-400\" />\n                  ) : (\n                    <Sparkles className=\"w-4 h-4 text-primary-400\" />\n                  )}\n                </motion.div>\n                <span className=\"text-xs text-foreground/70 font-mono\">\n                  {completedActions.size}/{totalActions}\n                </span>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Expanded state - full content */}\n          <AnimatePresence>\n            {isHovered && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{ duration: 0.2 }}\n              >\n                {/* Header */}\n                <div className=\"flex items-center gap-2.5 mb-2.5 whitespace-nowrap\">\n                  <motion.div\n                    className={`p-1.5 rounded ${\n                      isRewardUnlocked\n                        ? \"bg-yellow-500/20\"\n                        : \"bg-primary-500/20\"\n                    }`}\n                    animate={\n                      isRewardUnlocked\n                        ? {\n                            scale: [1, 1.05, 1],\n                          }\n                        : {}\n                    }\n                    transition={{\n                      duration: 2,\n                      repeat: Infinity,\n                      repeatDelay: 1,\n                    }}\n                  >\n                    {isRewardUnlocked ? (\n                      <Trophy className=\"w-4 h-4 text-yellow-400\" />\n                    ) : (\n                      <Sparkles className=\"w-4 h-4 text-primary-400\" />\n                    )}\n                  </motion.div>\n                  <span className=\"text-xs text-foreground/70 font-mono\">\n                    {completedActions.size}/{totalActions}\n                  </span>\n                  {/* Hint button */}\n                  {remainingTaskHint && (\n                    <button\n                      className=\"p-1 rounded hover:bg-primary-500/20 transition-colors ml-auto\"\n                      onMouseEnter={() => setShowHintTooltip(true)}\n                      onMouseLeave={() => setShowHintTooltip(false)}\n                      aria-label=\"Show hint\"\n                    >\n                      <HelpCircle className=\"w-3.5 h-3.5 text-primary-400\" />\n                    </button>\n                  )}\n                </div>\n\n                {/* Step indicators */}\n                <div className=\"flex gap-1\">\n                  {Array.from({ length: totalActions }).map((_, index) => (\n                    <motion.div\n                      key={index}\n                      className={`w-4 h-1 rounded-full ${\n                        index < completedActions.size\n                          ? \"bg-primary-500\"\n                          : \"bg-foreground/10\"\n                      }`}\n                      initial={{ scale: 0 }}\n                      animate={{ scale: 1 }}\n                      transition={{ delay: index * 0.05 }}\n                    />\n                  ))}\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Particle effect when rewarded */}\n          <AnimatePresence>\n            {isRewardUnlocked && isHovered && (\n              <>\n                {[...Array(5)].map((_, i) => (\n                  <motion.div\n                    key={i}\n                    className=\"absolute w-1.5 h-1.5 bg-yellow-400 rounded-full\"\n                    style={{\n                      left: \"50%\",\n                      top: \"50%\",\n                    }}\n                    initial={{ scale: 0, x: 0, y: 0, opacity: 1 }}\n                    animate={{\n                      scale: [0, 1, 0],\n                      x: Math.cos((i * Math.PI * 2) / 5) * 30,\n                      y: Math.sin((i * Math.PI * 2) / 5) * 30,\n                      opacity: [1, 1, 0],\n                    }}\n                    transition={{\n                      duration: 1,\n                      repeat: Infinity,\n                      repeatDelay: 2,\n                      delay: i * 0.1,\n                    }}\n                  />\n                ))}\n              </>\n            )}\n          </AnimatePresence>\n        </motion.div>\n      </motion.div>\n\n      {/* Tooltip - positioned outside card to avoid clipping */}\n      <AnimatePresence>\n        {showHintTooltip && remainingTaskHint && (\n          <motion.div\n            initial={{ opacity: 0, y: 5 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 5 }}\n            transition={{ duration: 0.2 }}\n            className=\"absolute -top-14 right-0 px-3 py-2 bg-background/95 border border-primary-500/30 rounded-lg shadow-xl whitespace-nowrap z-50 backdrop-blur-sm pointer-events-none\"\n          >\n            <div className=\"text-xs text-foreground/90\">\n              {remainingTaskHint}\n            </div>\n            <div className=\"absolute top-full right-6 -mt-1 w-2 h-2 bg-background/95 border-r border-b border-primary-500/30 transform rotate-45\"></div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;AAPA;;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,gBAAgB,EAAE,YAAY,EAAE,gBAAgB,EAAE,GACxD,IAAA,sLAAe;IACjB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,kMAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kMAAQ,EAAC;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,kMAAQ,EAAC;IAEvD,IAAA,mMAAS;0CAAC;YACR,MAAM;8DAAc;oBAClB,YAAY,OAAO,UAAU,GAAG;gBAClC;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;kDAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;yCAAG,EAAE;IAEL,mCAAmC;IACnC,MAAM,oBAAoB,IAAA,iMAAO;2DAAC;YAChC,MAAM,aAAyB;gBAC7B;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,IAAI,YAAY,WAAW,MAAM;6EAC/B,CAAC,SAAW,CAAC,iBAAiB,GAAG,CAAC;;YAGpC,2DAA2D;YAC3D,IAAI,UAAU,MAAM,GAAG,GAAG;gBACxB,YAAY,UAAU,MAAM;uEAAC,CAAC,SAAW,WAAW;;YACtD;YAEA,IAAI,UAAU,MAAM,KAAK,GAAG,OAAO;YACnC,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,UAAU,MAAM;YAC/D,MAAM,eAAe,SAAS,CAAC,YAAY;YAC3C,OAAO,kIAAO,CAAC,YAAY,CAAC,KAAK,CAAC,aAAa;QACjD;0DAAG;QAAC;KAAiB;IAErB,yBAAyB;IACzB,IAAI,UAAU;QACZ,OAAO;IACT;IAEA,qBACE,sNAAC,gOAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,OAAO;YAAK,UAAU;QAAI;QACxC,cAAc,IAAM,aAAa;QACjC,cAAc,IAAM,aAAa;;0BAEjC,sNAAC,gOAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;gBACT,SAAS;oBACP,OAAO;oBACP,QAAQ;gBACV;gBACA,YAAY;oBACV,UAAU;oBACV,MAAM;gBACR;0BAEA,cAAA,sNAAC,gOAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;oBACT,SAAS;wBACP,aAAa,YAAY,SAAS;wBAClC,cAAc,YAAY,SAAS;wBACnC,YAAY,YAAY,YAAY;wBACpC,eAAe,YAAY,YAAY;oBACzC;oBACA,YAAY;wBACV,UAAU;wBACV,MAAM;oBACR;;sCAGA,sNAAC,wOAAe;sCACb,CAAC,2BACA,sNAAC,gOAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,SAAS;gCAAE;gCACtB,SAAS;oCAAE,SAAS;gCAAE;gCACtB,MAAM;oCAAE,SAAS;gCAAE;gCACnB,YAAY;oCAAE,UAAU;gCAAI;gCAC5B,WAAU;;kDAEV,sNAAC,gOAAM,CAAC,GAAG;wCACT,WAAW,AAAC,iBAEX,OADC,mBAAmB,qBAAqB;wCAE1C,SACE,mBACI;4CACE,OAAO;gDAAC;gDAAG;gDAAM;6CAAE;wCACrB,IACA,CAAC;wCAEP,YAAY;4CACV,UAAU;4CACV,QAAQ;4CACR,aAAa;wCACf;kDAEC,iCACC,sNAAC,4OAAM;4CAAC,WAAU;;;;;iEAElB,sNAAC,kPAAQ;4CAAC,WAAU;;;;;;;;;;;kDAGxB,sNAAC;wCAAK,WAAU;;4CACb,iBAAiB,IAAI;4CAAC;4CAAE;;;;;;;;;;;;;;;;;;sCAOjC,sNAAC,wOAAe;sCACb,2BACC,sNAAC,gOAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,SAAS;gCAAE;gCACtB,SAAS;oCAAE,SAAS;gCAAE;gCACtB,MAAM;oCAAE,SAAS;gCAAE;gCACnB,YAAY;oCAAE,UAAU;gCAAI;;kDAG5B,sNAAC;wCAAI,WAAU;;0DACb,sNAAC,gOAAM,CAAC,GAAG;gDACT,WAAW,AAAC,iBAIX,OAHC,mBACI,qBACA;gDAEN,SACE,mBACI;oDACE,OAAO;wDAAC;wDAAG;wDAAM;qDAAE;gDACrB,IACA,CAAC;gDAEP,YAAY;oDACV,UAAU;oDACV,QAAQ;oDACR,aAAa;gDACf;0DAEC,iCACC,sNAAC,4OAAM;oDAAC,WAAU;;;;;yEAElB,sNAAC,kPAAQ;oDAAC,WAAU;;;;;;;;;;;0DAGxB,sNAAC;gDAAK,WAAU;;oDACb,iBAAiB,IAAI;oDAAC;oDAAE;;;;;;;4CAG1B,mCACC,sNAAC;gDACC,WAAU;gDACV,cAAc,IAAM,mBAAmB;gDACvC,cAAc,IAAM,mBAAmB;gDACvC,cAAW;0DAEX,cAAA,sNAAC,wQAAU;oDAAC,WAAU;;;;;;;;;;;;;;;;;kDAM5B,sNAAC;wCAAI,WAAU;kDACZ,MAAM,IAAI,CAAC;4CAAE,QAAQ;wCAAa,GAAG,GAAG,CAAC,CAAC,GAAG,sBAC5C,sNAAC,gOAAM,CAAC,GAAG;gDAET,WAAW,AAAC,wBAIX,OAHC,QAAQ,iBAAiB,IAAI,GACzB,mBACA;gDAEN,SAAS;oDAAE,OAAO;gDAAE;gDACpB,SAAS;oDAAE,OAAO;gDAAE;gDACpB,YAAY;oDAAE,OAAO,QAAQ;gDAAK;+CAR7B;;;;;;;;;;;;;;;;;;;;;sCAiBjB,sNAAC,wOAAe;sCACb,oBAAoB,2BACnB;0CACG;uCAAI,MAAM;iCAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,sNAAC,gOAAM,CAAC,GAAG;wCAET,WAAU;wCACV,OAAO;4CACL,MAAM;4CACN,KAAK;wCACP;wCACA,SAAS;4CAAE,OAAO;4CAAG,GAAG;4CAAG,GAAG;4CAAG,SAAS;wCAAE;wCAC5C,SAAS;4CACP,OAAO;gDAAC;gDAAG;gDAAG;6CAAE;4CAChB,GAAG,KAAK,GAAG,CAAC,AAAC,IAAI,KAAK,EAAE,GAAG,IAAK,KAAK;4CACrC,GAAG,KAAK,GAAG,CAAC,AAAC,IAAI,KAAK,EAAE,GAAG,IAAK,KAAK;4CACrC,SAAS;gDAAC;gDAAG;gDAAG;6CAAE;wCACpB;wCACA,YAAY;4CACV,UAAU;4CACV,QAAQ;4CACR,aAAa;4CACb,OAAO,IAAI;wCACb;uCAlBK;;;;;;;;;;;;;;;;;;;;;;0BA4BnB,sNAAC,wOAAe;0BACb,mBAAmB,mCAClB,sNAAC,gOAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBACzB,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAU;;sCAEV,sNAAC;4BAAI,WAAU;sCACZ;;;;;;sCAEH,sNAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAM3B;GA1PwB;;QAEpB,sLAAe;;;KAFK","debugId":null}}]
}